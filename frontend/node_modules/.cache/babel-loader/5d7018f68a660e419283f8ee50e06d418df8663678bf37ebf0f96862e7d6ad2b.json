{"ast":null,"code":"var _jsxFileName = \"/Users/sarang_daddy/Documents/second-hand/frontend/src/components/UploadPrice/index.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useContext, useEffect } from 'react';\nimport * as S from './styles';\nimport { postSalesItemContext } from '../../context/SalesItem/useContext';\nimport { formatString } from '../../utils/formatNumber';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UploadPrice = () => {\n  _s();\n  const {\n    postObject,\n    setPostObject\n  } = useContext(postSalesItemContext);\n  const [inputPrice, setInputPrice] = useState('');\n  const [formattedPrice, setFormattedPrice] = useState('');\n  const handlePriceInput = event => {\n    let inputValue = event.currentTarget.value.replace(/[^0-9]/g, '');\n    inputValue = inputValue.slice(0, 10);\n    const formattedValue = formatString(inputValue);\n    setInputPrice(inputValue);\n    setFormattedPrice(formatString(formattedValue));\n  };\n  useEffect(() => {\n    setPostObject(prevPostObject => ({\n      ...prevPostObject,\n      price: inputPrice !== '' ? Number(inputPrice) : null\n    }));\n  }, [inputPrice]);\n  useEffect(() => {\n    console.log(postObject.price);\n    if (postObject.price) {\n      const localFormattedPrice = toString(postObject.price);\n      // setFormattedPrice(postObject.price);\n    }\n  }, [postObject]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(S.UploadPrice, {\n      children: /*#__PURE__*/_jsxDEV(S.Title, {\n        children: [/*#__PURE__*/_jsxDEV(S.InputPrice, {\n          placeholder: \"\\u20A9 \\uAC00\\uACA9 (\\uC120\\uD0DD\\uC0AC\\uD56D)\",\n          type: \"text\",\n          pattern: \"^[0-9]*$\",\n          onChange: handlePriceInput,\n          value: formattedPrice\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), inputPrice !== '' && /*#__PURE__*/_jsxDEV(S.FormattedPrice, {\n          children: [\"\\u20A9 \", formattedPrice, \" \\uC6D0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(UploadPrice, \"wzMNsaqePy3sGRBO0r6f/rlzMDk=\");\n_c = UploadPrice;\nexport default UploadPrice;\nvar _c;\n$RefreshReg$(_c, \"UploadPrice\");","map":{"version":3,"names":["useState","useContext","useEffect","S","postSalesItemContext","formatString","jsxDEV","_jsxDEV","Fragment","_Fragment","UploadPrice","_s","postObject","setPostObject","inputPrice","setInputPrice","formattedPrice","setFormattedPrice","handlePriceInput","event","inputValue","currentTarget","value","replace","slice","formattedValue","prevPostObject","price","Number","console","log","localFormattedPrice","toString","children","Title","InputPrice","placeholder","type","pattern","onChange","fileName","_jsxFileName","lineNumber","columnNumber","FormattedPrice","_c","$RefreshReg$"],"sources":["/Users/sarang_daddy/Documents/second-hand/frontend/src/components/UploadPrice/index.tsx"],"sourcesContent":["import { useState, useContext, useEffect } from 'react';\n\nimport * as S from './styles';\n\nimport {\n  postSalesItemContext,\n  PostObjectType,\n} from '../../context/SalesItem/useContext';\nimport { formatString } from '../../utils/formatNumber';\n\nconst UploadPrice = () => {\n  const { postObject, setPostObject } = useContext(postSalesItemContext);\n  const [inputPrice, setInputPrice] = useState<string>('');\n  const [formattedPrice, setFormattedPrice] = useState<string>('');\n\n  const handlePriceInput = (event: React.ChangeEvent<HTMLInputElement>) => {\n    let inputValue = event.currentTarget.value.replace(/[^0-9]/g, '');\n    inputValue = inputValue.slice(0, 10);\n\n    const formattedValue = formatString(inputValue);\n    setInputPrice(inputValue);\n    setFormattedPrice(formatString(formattedValue));\n  };\n\n  useEffect(() => {\n    setPostObject((prevPostObject: PostObjectType) => ({\n      ...prevPostObject,\n      price: inputPrice !== '' ? Number(inputPrice) : null,\n    }));\n  }, [inputPrice]);\n\n  useEffect(() => {\n    console.log(postObject.price);\n    if (postObject.price) {\n      const localFormattedPrice = toString(postObject.price);\n      // setFormattedPrice(postObject.price);\n    }\n  }, [postObject]);\n\n  return (\n    <>\n      <S.UploadPrice>\n        <S.Title>\n          <S.InputPrice\n            placeholder=\"₩ 가격 (선택사항)\"\n            type=\"text\"\n            pattern=\"^[0-9]*$\"\n            onChange={handlePriceInput}\n            value={formattedPrice}\n          />\n          {inputPrice !== '' && (\n            <S.FormattedPrice>₩ {formattedPrice} 원</S.FormattedPrice>\n          )}\n        </S.Title>\n      </S.UploadPrice>\n    </>\n  );\n};\n\nexport default UploadPrice;\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAEvD,OAAO,KAAKC,CAAC,MAAM,UAAU;AAE7B,SACEC,oBAAoB,QAEf,oCAAoC;AAC3C,SAASC,YAAY,QAAQ,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAExD,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM;IAAEC,UAAU;IAAEC;EAAc,CAAC,GAAGZ,UAAU,CAACG,oBAAoB,CAAC;EACtE,MAAM,CAACU,UAAU,EAAEC,aAAa,CAAC,GAAGf,QAAQ,CAAS,EAAE,CAAC;EACxD,MAAM,CAACgB,cAAc,EAAEC,iBAAiB,CAAC,GAAGjB,QAAQ,CAAS,EAAE,CAAC;EAEhE,MAAMkB,gBAAgB,GAAIC,KAA0C,IAAK;IACvE,IAAIC,UAAU,GAAGD,KAAK,CAACE,aAAa,CAACC,KAAK,CAACC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;IACjEH,UAAU,GAAGA,UAAU,CAACI,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;IAEpC,MAAMC,cAAc,GAAGpB,YAAY,CAACe,UAAU,CAAC;IAC/CL,aAAa,CAACK,UAAU,CAAC;IACzBH,iBAAiB,CAACZ,YAAY,CAACoB,cAAc,CAAC,CAAC;EACjD,CAAC;EAEDvB,SAAS,CAAC,MAAM;IACdW,aAAa,CAAEa,cAA8B,KAAM;MACjD,GAAGA,cAAc;MACjBC,KAAK,EAAEb,UAAU,KAAK,EAAE,GAAGc,MAAM,CAACd,UAAU,CAAC,GAAG;IAClD,CAAC,CAAC,CAAC;EACL,CAAC,EAAE,CAACA,UAAU,CAAC,CAAC;EAEhBZ,SAAS,CAAC,MAAM;IACd2B,OAAO,CAACC,GAAG,CAAClB,UAAU,CAACe,KAAK,CAAC;IAC7B,IAAIf,UAAU,CAACe,KAAK,EAAE;MACpB,MAAMI,mBAAmB,GAAGC,QAAQ,CAACpB,UAAU,CAACe,KAAK,CAAC;MACtD;IACF;EACF,CAAC,EAAE,CAACf,UAAU,CAAC,CAAC;EAEhB,oBACEL,OAAA,CAAAE,SAAA;IAAAwB,QAAA,eACE1B,OAAA,CAACJ,CAAC,CAACO,WAAW;MAAAuB,QAAA,eACZ1B,OAAA,CAACJ,CAAC,CAAC+B,KAAK;QAAAD,QAAA,gBACN1B,OAAA,CAACJ,CAAC,CAACgC,UAAU;UACXC,WAAW,EAAC,gDAAa;UACzBC,IAAI,EAAC,MAAM;UACXC,OAAO,EAAC,UAAU;UAClBC,QAAQ,EAAErB,gBAAiB;UAC3BI,KAAK,EAAEN;QAAe;UAAAwB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvB,CAAC,EACD7B,UAAU,KAAK,EAAE,iBAChBP,OAAA,CAACJ,CAAC,CAACyC,cAAc;UAAAX,QAAA,GAAC,SAAE,EAACjB,cAAc,EAAC,SAAE;QAAA;UAAAwB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAkB,CACzD;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG;EAAC,gBAChB,CAAC;AAEP,CAAC;AAAChC,EAAA,CA/CID,WAAW;AAAAmC,EAAA,GAAXnC,WAAW;AAiDjB,eAAeA,WAAW;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}