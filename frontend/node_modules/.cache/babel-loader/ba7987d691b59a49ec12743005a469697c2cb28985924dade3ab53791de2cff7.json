{"ast":null,"code":"var _jsxFileName = \"/Users/sarang_daddy/Documents/second-hand/frontend/src/pages/WatchList/index.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { ACCESS_TOKEN } from '../../constants/login';\nimport useAsync from '../../hooks/useAsync';\nimport { getCategory } from '../../api/category';\nimport * as S from './styles';\nimport { getWatchProducts } from '../../api/product';\nimport { ITEM_DETAIL } from '../../constants/routeUrl';\nimport NavBarTitle from '../../components/NavBarTitle';\nimport SecondHandItem from '../../components/SecondHandItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst WatchListPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const accessToken = localStorage.getItem(ACCESS_TOKEN);\n  const {\n    data\n  } = useAsync(getCategory);\n  const allCategories = data === null || data === void 0 ? void 0 : data.data;\n  const [myWatchList, setMyWatchList] = useState([]);\n  const [selectedCategoryId, setSelectedCategoryId] = useState(0);\n  const handleCategoryChoice = categoryId => {\n    setSelectedCategoryId(categoryId);\n  };\n  const handleItemClick = productId => {\n    navigate(`${ITEM_DETAIL}/${productId}`);\n  };\n  const fetchWatchListData = async () => {\n    const {\n      data: fetchedWatchList\n    } = await getWatchProducts(accessToken);\n    setMyWatchList(fetchedWatchList.data);\n  };\n  useEffect(() => {\n    fetchWatchListData();\n  }, []);\n  const displayedItems = selectedCategoryId === 0 ? myWatchList : myWatchList.filter(item => item.categoryId === selectedCategoryId);\n  const watchListCategories = [{\n    categoryId: 0,\n    title: '전체'\n  }, ...allCategories.filter(category => myWatchList.some(item => item.categoryTitle === category.title))];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBarTitle, {\n      type: \"high\",\n      centerTitle: \"\\uAD00\\uC2EC \\uBAA9\\uB85D\",\n      children: /*#__PURE__*/_jsxDEV(S.Categories, {\n        children: watchListCategories.map(category => /*#__PURE__*/_jsxDEV(S.Category, {\n          onClick: () => handleCategoryChoice(category.categoryId),\n          isActive: selectedCategoryId === category.categoryId,\n          children: category.title\n        }, category.categoryId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), displayedItems.length ? /*#__PURE__*/_jsxDEV(S.ItemsContainer, {\n      children: displayedItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: () => handleItemClick(item.productId),\n        children: /*#__PURE__*/_jsxDEV(SecondHandItem, {\n          ...item,\n          isSetEditOption: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }, this)\n      }, item.productId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(S.Empty, {\n      children: \"\\uAD00\\uC2EC \\uC0C1\\uD488\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(WatchListPage, \"KK1iN4IMedGYGlBJOKFEdZ2MbPA=\", false, function () {\n  return [useNavigate, useAsync];\n});\n_c = WatchListPage;\nexport default WatchListPage;\nvar _c;\n$RefreshReg$(_c, \"WatchListPage\");","map":{"version":3,"names":["useEffect","useState","useNavigate","ACCESS_TOKEN","useAsync","getCategory","S","getWatchProducts","ITEM_DETAIL","NavBarTitle","SecondHandItem","jsxDEV","_jsxDEV","Fragment","_Fragment","WatchListPage","_s","navigate","accessToken","localStorage","getItem","data","allCategories","myWatchList","setMyWatchList","selectedCategoryId","setSelectedCategoryId","handleCategoryChoice","categoryId","handleItemClick","productId","fetchWatchListData","fetchedWatchList","displayedItems","filter","item","watchListCategories","title","category","some","categoryTitle","children","type","centerTitle","Categories","map","Category","onClick","isActive","fileName","_jsxFileName","lineNumber","columnNumber","length","ItemsContainer","isSetEditOption","Empty","_c","$RefreshReg$"],"sources":["/Users/sarang_daddy/Documents/second-hand/frontend/src/pages/WatchList/index.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { ACCESS_TOKEN } from '../../constants/login';\nimport useAsync from '../../hooks/useAsync';\nimport { getCategory } from '../../api/category';\n\nimport * as S from './styles';\nimport { Category, Item } from '../../constants/types';\nimport { getWatchProducts } from '../../api/product';\nimport { ITEM_DETAIL } from '../../constants/routeUrl';\nimport NavBarTitle from '../../components/NavBarTitle';\nimport SecondHandItem from '../../components/SecondHandItem';\n\nconst WatchListPage = () => {\n  const navigate = useNavigate();\n  const accessToken = localStorage.getItem(ACCESS_TOKEN);\n  const { data } = useAsync(getCategory);\n  const allCategories: Category[] = data?.data;\n  const [myWatchList, setMyWatchList] = useState<Item[]>([]);\n  const [selectedCategoryId, setSelectedCategoryId] = useState<number>(0);\n\n  const handleCategoryChoice = (categoryId: number) => {\n    setSelectedCategoryId(categoryId);\n  };\n\n  const handleItemClick = (productId: number) => {\n    navigate(`${ITEM_DETAIL}/${productId}`);\n  };\n\n  const fetchWatchListData = async () => {\n    const { data: fetchedWatchList } = await getWatchProducts(accessToken);\n    setMyWatchList(fetchedWatchList.data);\n  };\n\n  useEffect(() => {\n    fetchWatchListData();\n  }, []);\n\n  const displayedItems =\n    selectedCategoryId === 0\n      ? myWatchList\n      : myWatchList.filter(\n          (item: Item) => item.categoryId === selectedCategoryId,\n        );\n\n  const watchListCategories = [\n    {\n      categoryId: 0,\n      title: '전체',\n    },\n    ...allCategories.filter((category) =>\n      myWatchList.some((item) => item.categoryTitle === category.title),\n    ),\n  ];\n\n  return (\n    <>\n      <NavBarTitle type=\"high\" centerTitle=\"관심 목록\">\n        <S.Categories>\n          {watchListCategories.map((category) => (\n            <S.Category\n              key={category.categoryId}\n              onClick={() => handleCategoryChoice(category.categoryId)}\n              isActive={selectedCategoryId === category.categoryId}\n            >\n              {category.title}\n            </S.Category>\n          ))}\n        </S.Categories>\n      </NavBarTitle>\n      {displayedItems.length ? (\n        <S.ItemsContainer>\n          {displayedItems.map((item) => (\n            <li\n              key={item.productId}\n              onClick={() => handleItemClick(item.productId)}\n            >\n              <SecondHandItem {...item} isSetEditOption={false} />\n            </li>\n          ))}\n        </S.ItemsContainer>\n      ) : (\n        <S.Empty>관심 상품이 없습니다.</S.Empty>\n      )}\n    </>\n  );\n};\n\nexport default WatchListPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}