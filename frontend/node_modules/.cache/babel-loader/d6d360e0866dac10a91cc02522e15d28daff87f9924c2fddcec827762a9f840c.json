{"ast":null,"code":"var _jsxFileName = \"/Users/sarang_daddy/Documents/second-hand/frontend/src/components/UploadPrice/index.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useContext, useEffect } from 'react';\nimport * as S from './styles';\nimport { postSalesItemContext } from '../../context/SalesItem/useContext';\nimport { formatString } from '../../utils/formatNumber';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UploadPrice = () => {\n  _s();\n  var _postObject$price;\n  const {\n    postObject,\n    setPostObject\n  } = useContext(postSalesItemContext);\n  const [inputPrice, setInputPrice] = useState((_postObject$price = postObject.price) !== null && _postObject$price !== void 0 ? _postObject$price : null);\n  const [formattedPrice, setFormattedPrice] = useState('');\n  const handlePriceInput = event => {\n    let inputValue = event.currentTarget.value.replace(/[^0-9]/g, '');\n    inputValue = inputValue.slice(0, 10);\n    const formattedValue = formatString(inputValue);\n    setInputPrice(inputValue);\n    setFormattedPrice(formatString(formattedValue));\n  };\n  useEffect(() => {\n    setPostObject(prevPostObject => ({\n      ...prevPostObject,\n      price: inputPrice !== '' ? Number(inputPrice) : null\n    }));\n    setFormattedPrice(inputPrice);\n  }, [inputPrice]);\n  useEffect(() => {\n    if (postObject.price) {\n      const localStoragePrice = postObject.price.toString();\n      setInputPrice(localStoragePrice);\n    }\n  }, [postObject]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(S.UploadPrice, {\n      children: /*#__PURE__*/_jsxDEV(S.Title, {\n        children: [/*#__PURE__*/_jsxDEV(S.InputPrice, {\n          placeholder: \"\\u20A9 \\uAC00\\uACA9 (\\uC120\\uD0DD\\uC0AC\\uD56D)\",\n          type: \"text\",\n          pattern: \"^[0-9]*$\",\n          onChange: handlePriceInput,\n          value: inputPrice\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), inputPrice !== '' && /*#__PURE__*/_jsxDEV(S.FormattedPrice, {\n          children: [\"\\u20A9 \", formattedPrice, \" \\uC6D0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(UploadPrice, \"Vzvdphw59zupG/XlrdYM2r7D4hU=\");\n_c = UploadPrice;\nexport default UploadPrice;\nvar _c;\n$RefreshReg$(_c, \"UploadPrice\");","map":{"version":3,"names":["useState","useContext","useEffect","S","postSalesItemContext","formatString","jsxDEV","_jsxDEV","Fragment","_Fragment","UploadPrice","_s","_postObject$price","postObject","setPostObject","inputPrice","setInputPrice","price","formattedPrice","setFormattedPrice","handlePriceInput","event","inputValue","currentTarget","value","replace","slice","formattedValue","prevPostObject","Number","localStoragePrice","toString","children","Title","InputPrice","placeholder","type","pattern","onChange","fileName","_jsxFileName","lineNumber","columnNumber","FormattedPrice","_c","$RefreshReg$"],"sources":["/Users/sarang_daddy/Documents/second-hand/frontend/src/components/UploadPrice/index.tsx"],"sourcesContent":["import { useState, useContext, useEffect } from 'react';\n\nimport * as S from './styles';\n\nimport {\n  postSalesItemContext,\n  PostObjectType,\n} from '../../context/SalesItem/useContext';\nimport { formatString } from '../../utils/formatNumber';\n\nconst UploadPrice = () => {\n  const { postObject, setPostObject } = useContext(postSalesItemContext);\n  const [inputPrice, setInputPrice] = useState<string>(\n    postObject.price ?? null,\n  );\n  const [formattedPrice, setFormattedPrice] = useState<string>('');\n\n  const handlePriceInput = (event: React.ChangeEvent<HTMLInputElement>) => {\n    let inputValue = event.currentTarget.value.replace(/[^0-9]/g, '');\n    inputValue = inputValue.slice(0, 10);\n\n    const formattedValue = formatString(inputValue);\n    setInputPrice(inputValue);\n    setFormattedPrice(formatString(formattedValue));\n  };\n\n  useEffect(() => {\n    setPostObject((prevPostObject: PostObjectType) => ({\n      ...prevPostObject,\n      price: inputPrice !== '' ? Number(inputPrice) : null,\n    }));\n    setFormattedPrice(inputPrice);\n  }, [inputPrice]);\n\n  useEffect(() => {\n    if (postObject.price) {\n      const localStoragePrice = postObject.price.toString();\n      setInputPrice(localStoragePrice);\n    }\n  }, [postObject]);\n\n  return (\n    <>\n      <S.UploadPrice>\n        <S.Title>\n          <S.InputPrice\n            placeholder=\"₩ 가격 (선택사항)\"\n            type=\"text\"\n            pattern=\"^[0-9]*$\"\n            onChange={handlePriceInput}\n            value={inputPrice}\n          />\n          {inputPrice !== '' && (\n            <S.FormattedPrice>₩ {formattedPrice} 원</S.FormattedPrice>\n          )}\n        </S.Title>\n      </S.UploadPrice>\n    </>\n  );\n};\n\nexport default UploadPrice;\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAEvD,OAAO,KAAKC,CAAC,MAAM,UAAU;AAE7B,SACEC,oBAAoB,QAEf,oCAAoC;AAC3C,SAASC,YAAY,QAAQ,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAExD,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,iBAAA;EACxB,MAAM;IAAEC,UAAU;IAAEC;EAAc,CAAC,GAAGb,UAAU,CAACG,oBAAoB,CAAC;EACtE,MAAM,CAACW,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,EAAAY,iBAAA,GAC1CC,UAAU,CAACI,KAAK,cAAAL,iBAAA,cAAAA,iBAAA,GAAI,IACtB,CAAC;EACD,MAAM,CAACM,cAAc,EAAEC,iBAAiB,CAAC,GAAGnB,QAAQ,CAAS,EAAE,CAAC;EAEhE,MAAMoB,gBAAgB,GAAIC,KAA0C,IAAK;IACvE,IAAIC,UAAU,GAAGD,KAAK,CAACE,aAAa,CAACC,KAAK,CAACC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;IACjEH,UAAU,GAAGA,UAAU,CAACI,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;IAEpC,MAAMC,cAAc,GAAGtB,YAAY,CAACiB,UAAU,CAAC;IAC/CN,aAAa,CAACM,UAAU,CAAC;IACzBH,iBAAiB,CAACd,YAAY,CAACsB,cAAc,CAAC,CAAC;EACjD,CAAC;EAEDzB,SAAS,CAAC,MAAM;IACdY,aAAa,CAAEc,cAA8B,KAAM;MACjD,GAAGA,cAAc;MACjBX,KAAK,EAAEF,UAAU,KAAK,EAAE,GAAGc,MAAM,CAACd,UAAU,CAAC,GAAG;IAClD,CAAC,CAAC,CAAC;IACHI,iBAAiB,CAACJ,UAAU,CAAC;EAC/B,CAAC,EAAE,CAACA,UAAU,CAAC,CAAC;EAEhBb,SAAS,CAAC,MAAM;IACd,IAAIW,UAAU,CAACI,KAAK,EAAE;MACpB,MAAMa,iBAAiB,GAAGjB,UAAU,CAACI,KAAK,CAACc,QAAQ,CAAC,CAAC;MACrDf,aAAa,CAACc,iBAAiB,CAAC;IAClC;EACF,CAAC,EAAE,CAACjB,UAAU,CAAC,CAAC;EAEhB,oBACEN,OAAA,CAAAE,SAAA;IAAAuB,QAAA,eACEzB,OAAA,CAACJ,CAAC,CAACO,WAAW;MAAAsB,QAAA,eACZzB,OAAA,CAACJ,CAAC,CAAC8B,KAAK;QAAAD,QAAA,gBACNzB,OAAA,CAACJ,CAAC,CAAC+B,UAAU;UACXC,WAAW,EAAC,gDAAa;UACzBC,IAAI,EAAC,MAAM;UACXC,OAAO,EAAC,UAAU;UAClBC,QAAQ,EAAElB,gBAAiB;UAC3BI,KAAK,EAAET;QAAW;UAAAwB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC,EACD3B,UAAU,KAAK,EAAE,iBAChBR,OAAA,CAACJ,CAAC,CAACwC,cAAc;UAAAX,QAAA,GAAC,SAAE,EAACd,cAAc,EAAC,SAAE;QAAA;UAAAqB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAkB,CACzD;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG;EAAC,gBAChB,CAAC;AAEP,CAAC;AAAC/B,EAAA,CAjDID,WAAW;AAAAkC,EAAA,GAAXlC,WAAW;AAmDjB,eAAeA,WAAW;AAAC,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}